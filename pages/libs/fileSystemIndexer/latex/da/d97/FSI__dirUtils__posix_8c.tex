\doxysection{src/\+core/\+interfaces/\+\+FSI\+\_\+dir\+Utils\+\_\+posix.c File Reference}
\hypertarget{FSI__dirUtils__posix_8c}{}\label{FSI__dirUtils__posix_8c}\index{src/core/interfaces/FSI\_dirUtils\_posix.c@{src/core/interfaces/FSI\_dirUtils\_posix.c}}
{\ttfamily \+\#include "{}../\+../\+../\+inc/\+fsi/\+\+FSIpredefines.\+h"{}}\newline
{\ttfamily \+\#include "{}../\+../\+../\+inc/\+fsi/\+core/\+interfaces/\+\+FSI\+\_\+dir\+Utils\+\_\+posix.\+h"{}}\newline
{\ttfamily \+\#include $<$stdlib.\+h$>$}\newline
Include dependency graph for FSI\+\_\+dir\+Utils\+\_\+posix.\+c:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d40/FSI__dirUtils__posix_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \doxymbox{\hyperlink{FSI__dirUtils__posix_8c_a07bb8fc8aa9e6ea91c2f2e65425e03e1}{fsi\+\_\+close\+Dir}} (\doxymbox{\hyperlink{structFSI__DirData}{FSI\+\_\+\+Dir\+Data}} \texorpdfstring{$\ast$}{*}d)
\begin{DoxyCompactList}\small\item\em Get the directory data to deallocate memory. \end{DoxyCompactList}\item 
int \doxymbox{\hyperlink{FSI__dirUtils__posix_8c_a1c15e434435c62f17b15a34877bd60bd}{fsi\+\_\+open\+Dir}} (\doxymbox{\hyperlink{structFSI__DirData}{FSI\+\_\+\+Dir\+Data}} \texorpdfstring{$\ast$}{*}d, const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Open directory as read only. \end{DoxyCompactList}\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{FSI__dirUtils__posix_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{FSI__dirUtils__posix_8c_a07bb8fc8aa9e6ea91c2f2e65425e03e1}\index{FSI\_dirUtils\_posix.c@{FSI\_dirUtils\_posix.c}!fsi\_closeDir@{fsi\_closeDir}}
\index{fsi\_closeDir@{fsi\_closeDir}!FSI\_dirUtils\_posix.c@{FSI\_dirUtils\_posix.c}}
\doxysubsubsection{\texorpdfstring{fsi\_closeDir()}{fsi\_closeDir()}}
{\footnotesize\ttfamily \label{FSI__dirUtils__posix_8c_a07bb8fc8aa9e6ea91c2f2e65425e03e1} 
void fsi\+\_\+close\+Dir (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structFSI__DirData}{FSI\+\_\+\+Dir\+Data}} \texorpdfstring{$\ast$}{*}}]{d}{}\end{DoxyParamCaption})}



Get the directory data to deallocate memory. 


\begin{DoxyParams}{Parameters}
{\em d} & Object to deallocate \\
\hline
\end{DoxyParams}


Definition at line \doxymbox{\hyperlink{FSI__dirUtils__posix_8c_source_l00041}{41}} of file \doxymbox{\hyperlink{FSI__dirUtils__posix_8c_source}{FSI\+\_\+dir\+Utils\+\_\+posix.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \doxymbox{\hyperlink{structFSI__DirData__POSIX}{FSI\_DirData\_POSIX}}\ *p\ =\ d-\/>\doxymbox{\hyperlink{structFSI__DirData_ac8944367a6d007b8e0f6ba53be1ba1c0}{impl}};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ cstr\_destroy(\&p-\/>\doxymbox{\hyperlink{structFSI__DirData__POSIX_a82d93611ad90fa5af9b11b6cc08a208e}{path}});}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//\ Closes\ FD\ variable\ too}}
\DoxyCodeLine{00048\ \ \ \ \ closedir(p-\/>\doxymbox{\hyperlink{structFSI__DirData__POSIX_a78670985b16d169b902cfda51881f02c}{dir}});}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \doxymbox{\hyperlink{FSIpredefines_8h_a62bdb0773dcdb91d52bb8e4eca4c03d9}{FSI\_FREE}}(p);}
\DoxyCodeLine{00051\ \}}

\end{DoxyCode}


References \doxymbox{\hyperlink{FSI__dirUtils__posix_8h_source_l00029}{FSI\+\_\+\+Dir\+Data\+\_\+\+POSIX::\+dir}}, \doxymbox{\hyperlink{FSIpredefines_8h_source_l00045}{FSI\+\_\+\+FREE}}, \doxymbox{\hyperlink{FSI__dirUtils_8h_source_l00028}{FSI\+\_\+\+Dir\+Data::\+impl}}, and \doxymbox{\hyperlink{FSI__dirUtils__posix_8h_source_l00030}{FSI\+\_\+\+Dir\+Data\+\_\+\+POSIX::\+path}}.

\Hypertarget{FSI__dirUtils__posix_8c_a1c15e434435c62f17b15a34877bd60bd}\index{FSI\_dirUtils\_posix.c@{FSI\_dirUtils\_posix.c}!fsi\_openDir@{fsi\_openDir}}
\index{fsi\_openDir@{fsi\_openDir}!FSI\_dirUtils\_posix.c@{FSI\_dirUtils\_posix.c}}
\doxysubsubsection{\texorpdfstring{fsi\_openDir()}{fsi\_openDir()}}
{\footnotesize\ttfamily \label{FSI__dirUtils__posix_8c_a1c15e434435c62f17b15a34877bd60bd} 
int fsi\+\_\+open\+Dir (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structFSI__DirData}{FSI\+\_\+\+Dir\+Data}} \texorpdfstring{$\ast$}{*}}]{d}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{path}{}\end{DoxyParamCaption})}



Open directory as read only. 


\begin{DoxyParams}{Parameters}
{\em d} & Directory data \\
\hline
{\em path} & Path to open dir \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status (1 if worked, 0 if failed) 
\end{DoxyReturn}


Definition at line \doxymbox{\hyperlink{FSI__dirUtils__posix_8c_source_l00009}{9}} of file \doxymbox{\hyperlink{FSI__dirUtils__posix_8c_source}{FSI\+\_\+dir\+Utils\+\_\+posix.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00010\ \{}
\DoxyCodeLine{00011\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ dirFD\ =\ open(path,\ O\_RDONLY\ |\ O\_DIRECTORY\ |\ O\_CLOEXEC);}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keywordflow}{if}\ (dirFD\ <\ 0)\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ DIR\ *dir\ =\ fdopendir(dirFD);}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordflow}{if}\ (!dir)}
\DoxyCodeLine{00018\ \ \ \ \ \{}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ close(dirFD);}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00022\ \ \ \ \ \}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \doxymbox{\hyperlink{structFSI__DirData__POSIX}{FSI\_DirData\_POSIX}}\ *p\ =\ malloc(\textcolor{keyword}{sizeof}(*p));}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordflow}{if}\ (!p)}
\DoxyCodeLine{00027\ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ closedir(dir);}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00031\ \ \ \ \ \}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ p-\/>\doxymbox{\hyperlink{structFSI__DirData__POSIX_a78670985b16d169b902cfda51881f02c}{dir}}\ =\ dir;}
\DoxyCodeLine{00034\ \ \ \ \ p-\/>\doxymbox{\hyperlink{structFSI__DirData__POSIX_a469e85e9dfedf6ff6ac12cc11ca7217c}{dirfd}}\ =\ dirFD;}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ d-\/>\doxymbox{\hyperlink{structFSI__DirData_ac8944367a6d007b8e0f6ba53be1ba1c0}{impl}}\ =\ p;}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00039\ \}}

\end{DoxyCode}


References \doxymbox{\hyperlink{FSI__dirUtils__posix_8h_source_l00029}{FSI\+\_\+\+Dir\+Data\+\_\+\+POSIX::\+dir}}, \doxymbox{\hyperlink{FSI__dirUtils__posix_8h_source_l00032}{FSI\+\_\+\+Dir\+Data\+\_\+\+POSIX::\+dirfd}}, and \doxymbox{\hyperlink{FSI__dirUtils_8h_source_l00028}{FSI\+\_\+\+Dir\+Data::\+impl}}.

